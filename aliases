# 
# Git
#

# a more useful git log, mostly inline with branches, remotes and merges shown
alias log='git log --graph --pretty="format:%C(yellow)%h%Cblue%d%Creset %s %C(white) %an, %ar%Creset"'

# better standard status line
alias gws='git status -sb'

# undo the last commit
alias gu='git reset HEAD~1'

#
# ls
# 
alias ll='ls -lhFg'
alias la='ls -alhFg'

#
# Gist
#
alias gist='gist -cps'

alias please='sudo $(fc -ln -1)'
alias tml="tmux list-sessions"
# alias tma="tmux -2 attach -t $1"
tma () { tmux -2 attach -t $1 }
alias tmk="tmux kill-session -t $1"

uname_str=$(uname)
if [[ "$uname_str" == 'Darwin' ]]; then
  # alias vim='mvim -v'
fi
alias psql='pgcli'


alias vml='VBoxManage list vms'

function vmstatus() {
  if [[ -z $1 ]]
  then
    IFS=$'\n'
    for line in $(vml | sed 's/"\([A-Za-z0-9 ]*\)".*/\1/g')
    do
      echo $line "\t" $(vms "$line"); 
    done
    unset IFS
  else
    VBoxManage showvminfo $1 | grep "State" | sed 's/State: *\(.*\) (since.*/\1/'
  fi
}
alias vms=vmstatus

function vmboot() {
  VBoxManage startvm $1 --type headless
}

function vmsave() {
  VBoxManage controlvm $1 savestate
}
